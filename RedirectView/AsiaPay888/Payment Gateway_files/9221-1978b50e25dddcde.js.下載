"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9221],{9750:function(e,t,r){r.d(t,{Z:function(){return T}});var o=r(7568),n=r(6042),a=r(9396),i=r(4051),s=r.n(i),l=r(381),u=r.n(l),c=r(7294),d=r(1566),f=r.n(d),g=r(1288),p=r(1163),m=r(5518),h=(r(9188),r(9923)),x=r(9943),C=r(6486),v=r.n(C),b={status:{tasks:[],depositState:"init"},orderDeposit:void 0,countdown:"--:--",error:void 0},w={component:"pay2easy",subComponent:"DepositOrderWrapper",site:g.px};function T(e){var t,r=(0,c.useState)(b.status),i=r[0],l=r[1],d=(0,c.useState)(b.orderDeposit),C=d[0],T=d[1],k=(0,c.useState)(b.countdown),S=k[0],y=k[1],j=(0,c.useState)(b.error),Z=j[0],D=j[1],N=(0,c.useState)(0),I=N[0],B=N[1],R=(0,c.useState)(!1),O=R[0],z=R[1],A=(0,p.useRouter)(),E=A.query,W=E.orderId,q=E.token,H=E.lang,U="production"!==g.lC||A.query.debug,P=function(){return new Date},F=function(){var e=(0,o.Z)(s().mark((function e(){var t,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!W||!q){e.next=19;break}return e.prev=1,t="/api/order-deposits/".concat(W,"?token=").concat(q),e.next=5,(0,h.XZ)(t);case 5:return e.next=7,e.sent.json();case 7:if(r=e.sent,U&&f().log("[updateOrderDeposit]",r),!r){e.next=13;break}return"error"in r?D(r.error):(v().isEqual(v().omit(C,"remoteTimestamp"),v().omit(r,"remoteTimestamp"))||(T(r),U&&f().log("[updateOrderDeposit] update orderDeposit")),B(+new Date(r.remoteTimestamp)-+P())),e.next=13,_();case 13:e.next=19;break;case 15:e.prev=15,e.t0=e.catch(1),f().error("[updateOrderDeposit]",e.t0).send((0,a.Z)((0,n.Z)({},w),{func:"updateOrderDeposit",error:(0,h.N5)(e.t0)})),D(e.t0);case 19:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=(0,o.Z)(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,h.XZ)("/api/check-status/".concat(W));case 3:return e.next=5,e.sent.json();case 5:t=e.sent,U&&f().log("[updateStatus]",t),l(t),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),f().error("[updateStatus]",e.t0).send((0,a.Z)((0,n.Z)({},w),{func:"updateStatus",error:(0,h.N5)(e.t0)})),D(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();(0,c.useEffect)((function(){var e=setInterval(_,5e3),t=setInterval(F,5e3);return function(){clearInterval(e),clearInterval(t)}}),[W]),(0,c.useEffect)((function(){var e=setInterval((function(){if(C&&!("error"in C)){var e=u()(C.expiredAt);if(!C.expiredAt)return void y(b.countdown);var t=u().duration(e.diff(+P()+I)),r=t.asSeconds()<0?"0:00":t.format();y(r)}}),1e3);return function(){return clearInterval(e)}}),[i]),(0,c.useEffect)((function(){z(m.tq)}),[O]),C||F().catch((function(e){U&&f().error(e),D(e)}));var K={status:i,orderDeposit:C,triggerUpdate:(0,o.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return U&&f().log("[triggerUpdate]"),e.abrupt("return",F());case 2:case"end":return e.stop()}}),e)}))),countdown:S,error:Z,isMobile:O,dict:(0,x.R)(null!==(t=H)&&void 0!==t?t:"en")},L=e.children;return c.cloneElement(L,K)}},6534:function(e,t,r){r.d(t,{Z:function(){return a}});var o=r(6042),n=r(5893);r(7294);function a(e){var t=e.src,r=e.className,a=e.style,i="".concat(t.replace(".png","@2x.png 2x"),",").concat(t.replace(".png","@3x.png 3x")),s={src:t,srcSet:-1===t.indexOf("svg")?i:void 0,className:r,style:(0,o.Z)({width:"fit-content",height:"fit-content"},a)};return(0,n.jsx)("img",(0,o.Z)({},s))}},2555:function(e,t,r){r.d(t,{Z:function(){return c}});var o=r(5893),n=(r(7294),r(1120)),a=(r(9188),r(8805)),i=r(9923),s=r(4516),l=function(e){var t=s.x[e],r=t.amountColor,o=t.amountTextColor;return(0,n.Z)({amountBox:{display:"flex",alignItems:"center",justifyContent:"space-between",height:60,borderRadius:10,backgroundColor:r,margin:"10px 10px 10px 10px"},amountText:{display:"flex",alignItems:"center",color:o,fontSize:26,fontWeight:"bold",lineHeight:"30px",margin:"17px 0px 13px 12px"},amountSymbolBox:{height:60,width:18,margin:"12px 0px 0px 0px",lineHeight:"18px",fontSize:18,fontWeight:"bold"},clock:{width:98,height:38,display:"flex",marginRight:15},clockText:{color:o,width:60,textAlign:"center",lineHeight:"38px",fontSize:22,fontWeight:"bold"},clockImage:{width:38,height:38}})()},u=function(e){var t,r=l(e.theme),n="v2"===e.theme||"gcash"===e.theme?"/img/icon/hourglass_white.svg":"/img/icon/hourglass_black.svg";return(0,o.jsxs)("div",{className:r.clock,children:[(0,o.jsx)("img",{className:r.clockImage,src:n}),(0,o.jsx)("span",{className:r.clockText,children:null!==(t=e.text)&&void 0!==t?t:"4\uff1a59"})]})};function c(e){var t,r=e.orderDeposit,n=void 0===r?{}:r,s=n.state,c=n.currency,d=e.countdown,f=e.theme,g=e.amount,p=l(f),m=s===a.OrderDepositState.Error||s===a.OrderDepositState.Canceled||s===a.OrderDepositState.Completed||s===a.OrderDepositState.Timeout;return t="number"===typeof g?(0,i.KS)(g,c).replace(/\u20b9| /g,""):"-",(0,o.jsxs)("div",{className:p.amountBox,children:[(0,o.jsxs)("div",{className:p.amountText,children:["INR"===c&&(0,o.jsx)("span",{className:p.amountSymbolBox,children:"\u20b9"}),"PHP"===c&&(0,o.jsx)("span",{className:p.amountSymbolBox,children:"\u20b1"}),(0,o.jsx)("div",{children:t})]}),!m&&"default"!==f&&(0,o.jsx)(u,{text:null!==d&&void 0!==d?d:"--:--",theme:f})]})}},8267:function(e,t,r){r.d(t,{Z:function(){return C}});var o=r(5893),n=(r(7294),r(1566)),a=r.n(n),i=r(8805),s=r(1163),l=r(1288),u=r(9943),c=r(9923),d=r(1120),f=r(282),g=r(6534),p=r(4516),m=r(6486),h=r.n(m),x=r(9829);function C(e){var t=(0,s.useRouter)(),r="production"!==l.lC||t.query.debug,n=e.orderDeposit,m=e.theme,C=null!==n&&void 0!==n?n:{},v=C.amountRequested,b=void 0===v?0:v,w=C.currency,T=(0,u.R)(t.query.lang),k=function(e){var t=p.x[e],r=t.mainColor1,o=t.mainColorImage1,n=t.infoTextColor,a=t.buttonBorderRadius;return(0,d.Z)({statusImage:{marginTop:50},statusText:{textAlign:"center",marginTop:40,fontSize:22,fontWeight:"bold",color:"#072654"},statusMessage:{textAlign:"center",marginTop:19,fontSize:18,fontWeight:"bold",color:"#072654"},statusAmount:{textAlign:"center",fontSize:22,fontWeight:"bold",color:"#072654"},backButton:{width:"100%",maxWidth:340,height:56,borderRadius:a,fontSize:20,marginTop:24,boxShadow:"none",backgroundColor:r,backgroundImage:o,color:n}})()}(m),S="",y="",j="",Z=!1,D=(null===n||void 0===n?void 0:n.redirectUrl)?T.backToMerchant:T.close;switch(null===n||void 0===n?void 0:n.state){case i.OrderDepositState.Completed:S="default"===m?"/img/razrpay/status/check.png":"/img/icon/completed.svg",y=T.paymentConfirmed,j=h().startCase(T.amountPaid)+":",Z=!0;break;case i.OrderDepositState.Canceled:S="default"===m?"/img/razrpay/status/error.png":"/img/icon/error.svg",y=T.orderCanceled,j=T.retryOrder;break;case i.OrderDepositState.Error:S="default"===m?"/img/razrpay/status/error.png":"/img/icon/error.svg",y=T.orderError,j=T.retryOrder;break;case i.OrderDepositState.Timeout:S="default"===m?"/img/razrpay/status/timeout.png":"/img/icon/timeout.svg",y=T.orderTimeout,j=T.retryOrder}return(null===n||void 0===n?void 0:n.state)===i.OrderDepositState.Completed&&n.redirectUrl&&setTimeout((function(){window.location.href=n.redirectUrl}),1e3*x.Kj),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(g.Z,{src:S,className:k.statusImage}),(0,o.jsx)("div",{className:k.statusText,children:y}),(0,o.jsx)("div",{className:k.statusMessage,children:j}),Z&&(0,o.jsx)("div",{className:k.statusAmount,children:(0,c.KS)(b,w)}),(0,o.jsx)(f.Z,{className:k.backButton,variant:"contained",onClick:function(){r&&a().log("[renderFinishedContent]"),(null===n||void 0===n?void 0:n.redirectUrl)?window.location.href=null===n||void 0===n?void 0:n.redirectUrl:window.close()},children:D})]})}},5955:function(e,t,r){r.d(t,{Z:function(){return l}});var o=r(5893),n=(r(7294),r(1120)),a=r(8581),i=r(7702),s=r(4516);function l(e){var t,r=e.theme,l=e.lang,u=e.clock,c=e.handleLanguageChange,d=function(e){var t=s.x[e],r=t.infoTextColor,o=t.langBarColor;return(0,n.Z)({languageText:{color:r},languageBar:{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit",width:"100%",height:60,padding:"0px 0px 0px 15px",justifyContent:"space-between",display:"flex",alignItems:"center",backgroundColor:o,lineHeight:"44px"},languageArrowIcon:{fill:"white"},langPaper:{height:110},langList:{height:40,maxHeight:40},logoImage:{height:26},clock:{width:130,height:38,display:"flex",padding:"2px 13px 2px 13px",marginRight:15,borderRadius:24,backgroundColor:"#5a99ff"},clockText:{width:"100%",textAlign:"center",lineHeight:"38px",color:"white",fontSize:22,fontWeight:"bold"}})()}(r),f=function(e){var t=e.text;return(0,o.jsxs)("div",{className:d.clock,children:[(0,o.jsx)("img",{src:"/img/razrpay/icon/hourglass.svg"}),(0,o.jsx)("span",{className:d.clockText,children:null!==t&&void 0!==t?t:"4\uff1a59"})]})};return(0,o.jsxs)("div",{className:d.languageBar,children:[(0,o.jsxs)(a.Z,{value:null!==l&&void 0!==l?l:"en",onChange:c,name:"lang",style:{color:"white",width:80,fontWeight:500},classes:{select:d.languageText},inputProps:{"aria-label":"lang",classes:{icon:d.languageArrowIcon}},MenuProps:{classes:{paper:d.langPaper}},disableUnderline:!0,children:[(0,o.jsx)(i.Z,{className:d.langList,value:"en",children:"English"}),(0,o.jsx)(i.Z,{className:d.langList,value:"hi",children:"\u0939\u093f\u0928\u094d\u0926\u0940"})]}),u.show&&(0,o.jsx)(f,{text:null!==(t=u.text)&&void 0!==t?t:"--:--"})]})}},7703:function(e,t,r){r.d(t,{Z:function(){return s}});var o=r(5893),n=r(7294),a=r(1749),i=r(5518);function s(e){var t=e.children,r=(0,n.useState)(!1),s=r[0],l=r[1];(0,n.useEffect)((function(){l(i.tq)}),[s]);var u=s?{}:{minHeight:"100vh",padding:8};return(0,o.jsx)(a.Z,{container:!0,spacing:0,direction:"column",alignItems:"center",justify:"center",style:u,children:t})}},4516:function(e,t,r){r.d(t,{x:function(){return i}});var o,n,a=r(4924);!function(e){e.Default="default",e.Dpp="dpp",e.Kmt="kmt",e.V2="v2",e.Gcash="gcash"}(o||(o={}));var i=(n={},(0,a.Z)(n,o.Default,{mainColorImage1:"linear-gradient(110deg, #4f8cef 5%, #2260c4 95%)",mainColor1:"transparent",mainColor2:"#5A99FF",subColor1:"#254984",subColor2:"#c9ddff",subColor3:"#3affff",subColor4:"#eaeaea",gradual1:"#4f8cef",gradual2:"#2260c4",fontColor:"#303030",infoTextColor:"white",infoTitleColor:"white",langBarColor:"#2759a8",buttonBorderRadius:4,amountTextColor:"white",amountColor:"#254984"}),(0,a.Z)(n,o.V2,{mainColor1:"#3473d8",mainColor2:"#5A99FF",subColor1:"#254984",subColor2:"#254984",subColor3:"#4d8cef",subColor4:"#eaeaea",gradual1:"#4f8cef",gradual2:"#2260c4",fontColor:"#303030",infoTextColor:"white",infoTitleColor:"white",buttonBorderRadius:100,langBarColor:"#3473d8",amountTextColor:"white",amountColor:"#254984"}),(0,a.Z)(n,o.Dpp,{mainColor1:"#58bfff",mainColor2:"#0782b1",subColor1:"#ffffff",subColor2:"#e7fafe",subColor3:"#8ad2ff",bgColor:"#ebf4f8",fontColor:"#303030",infoTextColor:"white",infoTitleColor:"#3c3c3c",buttonBorderRadius:100,langBarColor:"#58bfff",amountTextColor:"#303030",amountColor:"#e7fafe"}),(0,a.Z)(n,o.Kmt,{mainColor1:"#f7d03e",mainColor2:"#0782b1",subColor1:"#ffffff",subColor2:"#fff7d9",subColor3:"transparent",bgColor:"#ebf4f8",fontColor:"#303030",infoTextColor:"#303030",infoTitleColor:"#303030",buttonBorderRadius:100,langBarColor:"#f7d03e",amountTextColor:"#303030",amountColor:"#fff7d9"}),(0,a.Z)(n,o.Gcash,{mainColor1:"#1446ba",mainColor2:"#0782b1",subColor1:"#ffffff",subColor2:"#022db8",subColor3:"#3a89f8",bgColor:"#ebf4f8",fontColor:"#303030",infoTextColor:"#ffffff",infoTitleColor:"#ffffff",buttonBorderRadius:100,langBarColor:"#f7d03e",amountTextColor:"#ffffff",amountColor:"#022db8"}),n)}}]);